import numpy as np
import csv

proj_psnr = [0]
proj_ssim = [0]
proj_time = [6.2113263209660845, 6.382395883401235, 5.780415618419648, 5.726511494318644, 7.4823613405227665, 5.7336852788925174, 5.6504308422406515, 5.856314806143443]
skips = [0]

# with open('resultmetrics', 'r') as file: #split file entires into individual metrics
#     entries = csv.reader(file)

#     for row in entries:
#         print(f"Entries: {row}")
#         for i in range(0, len(row), 1):
#             if i % 3 == 0:
#                 proj_ssim.append(float(row[i].strip()))
#             elif i % 3 == 1:
#                 proj_psnr.append(float(row[i].strip()))
#             elif i % 3 == 2:
#                 proj_time.append(float(row[i].strip()))

summy = 0
for entry in proj_ssim:
    summy += entry
average_ssim_ = summy / len(proj_ssim)

summy_psnr = 0
for entry in proj_psnr:
    summy_psnr += entry
average_psnr_ = summy_psnr / len(proj_psnr)

summy_time = 0
for entry in proj_time:
    summy_time += entry
average_time_ = summy_time / len(proj_time)

summy_skips = 0
for entry in skips:
    summy_skips += entry
average_skips_ = summy_skips / len(skips)

deviation_ssim_ = np.std(proj_ssim)
deviation_psnr_ = np.std(proj_psnr)
deviation_time_ = np.std(proj_time)
deviation_skips_ = np.std(skips)

print(f"Average SSIM proj: {average_ssim_:.5f} ± {deviation_ssim_:.5f}")
print(f"Average PSNR proj: {average_psnr_:.5f} ± {deviation_psnr_:.5f}")
print(f"Average TIME proj: {average_time_:.5f} ± {deviation_time_:.5f}")
print(f"Average skips proj: {average_skips_:.5f} ± {deviation_skips_:.5f}")

'''
history for reuse maybe
'''
#float16 0-9 128 proj
# proj_psnr = [34.77770804766121,35.06133423415108,34.873976196268,34.8085189421117,34.865565419423476,35.10073782564656,35.051417281581635,34.23267659668869]
# proj_ssim = [0.7977958487326878,0.817332111321532,0.8038475466565188,0.7983933602641442,0.8019470349258365,0.8140416844430352,0.8031349792443101,0.8124636464741591,0.7592103502737222]
# proj_time = [1.025866484642029,0.9795293688774109,1.0344816088676452,1.0318101922671,0.9815725803375244,0.8681439677874248,1.0681977033615113,0.9863366882006327]

#baseline 0-9 128 proj
# proj_psnr = [35.218837094252805,35.06413459528928,34.96155526208463,35.219192551128174,35.137227436453614,35.20159714698291,35.22975980413602,36.265243208156576,36.114736956878176]
# proj_ssim = [0.7474276528633433,0.7441132082429928,0.741236928404448,0.7473786317645884,0.7464334015657358,0.7459497708278342,0.7467006485795611,0.8077076615478447,0.8572814834817941]
# proj_time = [1.137521262963613,1.143937095006307,1.138495719432831,1.1352513511975606,1.1337273915608723,1.1335405826568603,1.1890284498532613,1.130593510468801,1.1420231739679971]


#everything skip 0.9 128 images first 8 128 proj
# proj_psnr = [24.51026,29.3385,34.33537,30.16685,23.25159,25.4526694, 32.9766, 31.086626]
# proj_ssim = [0.795527,0.843462,0.94096,0.90925,0.759658,0.8335026, 0.93138, 0.915076]
# proj_time = [12.80425,17.41049,16.3519,22.595,20.061817,28.239,28.6191, 38.4847]
# skips = [0]

#everything skip 0.8 acc 0.9 128 images first 8 128 proj
# proj_psnr = [31.0888,33.037,24.654,29.3488,34.41617,30.16863,23.22656,25.45021]
# proj_ssim = [0.91501,0.94237,0.796046,0.84299,0.941946,0.90939,0.75889,0.83329]
# proj_time = [36.682,19.6759,12.2138,17.0149,9.8386,8.1947,21.2449,36.34879]
# skips = [14,35,0,14,27,40,0,14]

#everything skip 0.7 acc 0.9 128 images first 8 128 proj
# proj_psnr = [32.9734,24.7739,29.3159,34.31634,30.16766,23.2325, 31.0688, 25.4058832]
# proj_ssim = [0.94193,0.79644,0.842005,0.941040,0.909334,0.7593649, 0.914135, 0.8327327]
# proj_time = [11.37644,12.90288,17.24324,7.0497,3.4849, 25.675, 17.81288]
# skips = [63,0,26,39,46,0,4,10]

#everything skip 0.6 acc 0.9 128 images first 8 128 proj
# proj_psnr = [30.9536,34.15,24.651518,29.35036,34.29399,30.16478, 25.34148, 23.23]
# proj_ssim = [0.911527,0.8596,0.7959388,0.8434249,0.940641,0.909113, 0.8308, 0.75936]
# proj_time = [13.8845,7.9459,12.7047,15.2341,6.37811,3.2486, 10.0194, 20.87]
# skips = [79,69,0,30,46,62,83,0]

#multi4 data0-7 stop0.9 skip0.8 128 proj
# proj_psnr = [27.643,24.654597,28.6979,22.4855,29.84,24.800113,28.020634,30.3997]
# proj_ssim = [0.9257429,0.8105059,0.841166183,0.86727,0.9033,0.7943276,0.86701,0.9132269]
# proj_time = [28.1872,25.85635,47.0099,23.99064,34.28437,20.14311,39.4506,40.934946]
# skips = [789,672,985,658,744,656,1170,1286]

#3D small 128 projs data0-7
# proj_psnr = [33.11034,36.076683866480636,37.49461067659328,34.29839701566011,32.53162922398956,34.61940776566289,33.27992016545055]
# proj_ssim = [0.817763,0.914684936839541,0.9213504668740516,0.8347640153099385,0.7787391909898504,0.8953991693614525,0.766047225390419]
# proj_time = [27.551799,29.01973017056783,25.89544576803843,21.228621955712637,21.2663383603096,26.298220364252725,22.083259308338164]
# skips = [0]

#3D small 64 projs data0-7
# proj_psnr = [32.66542058064998,35.708561107762506,37.32549981799603,33.92872236013727,32.27508096549314,34.2457358975225,32.86493004501946,34.823563408468885]
# proj_ssim = [0.7769690158343455,0.8859626478186055,0.9138696636120989,0.8205476152158032,0.7583412417431727,0.8653246839681393,0.7305730060861039,0.8541490541205556]
# proj_time = [24.59457827011744,25.589853978157045,24.903073581059775,23.20947584708532,20.30411230325699,24.709851833184562,24.728856297334037,22.813506944974264]
# skips = [0]

#3D small 64 projs data 0-7 image regression 3k
# proj_psnr = [32.1001544152319,35.137170215285714,36.7921086399107,33.46208622006521,30.948271645449566,33.61726269152995,34.27021246466255]
# proj_ssim = [0.7539873536605749,0.8784622246454875,0.9037473685968833,0.8106432411705308,0.7363762861958411,0.8459114981337763,0.8408058421818334]
# proj_time = [11.066154785950978,0.88966166973114,10.095568601290385,10.316857957839966,9.991299577554067,11.759679742654164,10.382465215524038]
# skips = [0]

#3D small 128 projs data 0-7 image regression 3k
# proj_psnr = [34.368430768772726,32.36542463727423,34.19728494471683,37.33802700849546,35.82724562282517,32.92360434707965,34.902287861292734]
# proj_ssim = [0.8924316254100656,0.7754870438691595,0.8366649850400797,0.9217653407141216,0.9139481380295036,0.8109268489342787,0.865811350219877]
# proj_time = [13.308727606137593,10.546121696631113,10.944848263263703,10.55428653160731,12.01729724407196,11.78199734290441,11.063571572303772]
# skips = [0]

#3d small 32 projs data 0-7 image regression 3k